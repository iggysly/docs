HLR HTTP API
============

Отправка HLR-cобщения на несколько номеров (POST)
-------------------------------------------------

Сервис инициирует отправку HLR-сообщения в соответствии со значениями параметров, передаваемых сервису в POST-запросе следующего формата:

.. code-block:: json
	
  https://integrationapi.net/rest/v2/Hlr/SendBulk?Login=<Логин>&Password=<Пароль>&DestinationAddresses=<Номер(а)получателя>&Validity=<Время жизни сообщения> 

  
или вместо пары логин\пароль можно передавать SessionID
   
.. code-block:: json
	
  https://integrationapi.net/rest/Hlr/SendBulk?SessionID=<Идентификатор сессии>&DestinationAddresses=<Номер(а) получателя>&Validity=<Время жизни сообщения>


Параметры POST-запроса на отправку HLR-сообщения на несколько номеров
 +----------------------+------------+--------------------------------------------------------+--------------+
 |      Параметр        | Тип данных |    Описание                                            |Обязательный  |
 +======================+============+========================================================+==============+
 | Login                |   String   |  Логин,полученный при регистрации                      |        Да    |
 +----------------------+------------+--------------------------------------------------------+--------------+
 | Password             |   String   |  Пароль, соответствующий логину                        |        Да    |
 +----------------------+------------+--------------------------------------------------------+--------------+
 | DestinationAddresses |   String   |  Номера получателей сообщения, в международном формате:|              |
 |                      |            |  код страны и код сети плюс номер телефона.            |        Да    |
 |                      |            |  Максимум 200 номеров                                  |              |
 |                      |            |  Пример: 79031234567;+79031234567;89031234567          |              |
 +----------------------+------------+--------------------------------------------------------+--------------+
 | Validity             |   Int      |  Время жизни сообщения (в минутах)                     |        Да    |
 +----------------------+------------+--------------------------------------------------------+--------------+

Ниже приведен пример ответа:

.. code-block:: json

  HTTP/1.1 200 OK       
  Cache-Control: private       
  Connection: Keep-Alive      
  Content-Type: application/json; charset=utf-8      
  ["GW0261BBD6B3", "GW0261BBD6B6"]
  
  
Запрос статуса по HLR-сообщениям (GET)
--------------------------------------
Сервис возвращает статус отправленного HLR-сообщения в соответствии со значениями параметров, передаваемых сервису в GET-запросе следующего формата:
 
.. code-block:: json
	
  https://integrationapi.net/rest/v2/Hlr/State?Login=<Логин>&Password=<Пароль>&messageIds=<Идентификаторы сообщений>
   
   
или вместо пары логин\пароль можно передавать SessionID
   
.. code-block:: json
	
   https://integrationapi.net/rest/Hlr/State?SessionID=<Идентификатор сессии>&messageIds=<Идентификаторы сообщений>
   
   
Поля ответа на статус сообщения:    
 +----------------------+------------+-----------------------------------------------------------------------+
 |      Параметр        | Тип данных |    Описание                                                           |
 +======================+============+=======================================================================+
 | DestinationAddress   |   String   |  Номер получателя сообщения, в международном формате: код страны и    |
 |                      |            |  код сети плюс номер телефона.                                        |
 +----------------------+------------+-----------------------------------------------------------------------+
 | StateCode            |   Int      |  Код статуса сообщения                                                |
 +----------------------+------------+-----------------------------------------------------------------------+
 | StateDesc            |   String   |  Краткое описание ошибки|                                             |
 +----------------------+------------+-----------------------------------------------------------------------+
 | Country              |   String   |  Страна абонента                                                      |
 +----------------------+------------+-----------------------------------------------------------------------+
 | MobileOperator       |   String   |  Мобильный оператор абонента                                          |
 +----------------------+------------+-----------------------------------------------------------------------+
 
 
Ниже приведен пример ответа:

.. code-block:: json

  [{
       "messageId" : "GW0261BBD6B6" 
       "DestinationAddress": "+79001234567",
       "StateCode" : 1,
       "StateDesc" : "Отправляется",
       "Country" : "Россия",
       "MobileOperator" : "ОАО Вымпел-Коммуникации(Москва)",	
  }]
   
Статусы сообщений
 +-----------------+------------------------------+
 | StateCode       |    Описание                  |
 +=================+==============================+
 | 0               |  Отправляется                |
 +-----------------+------------------------------+
 | 1               |  Абонент доступен            |
 +-----------------+------------------------------+
 | 2               |  Абонент временно недоступен |
 +-----------------+------------------------------+
 | 3               |  Абонент не существует       |
 +-----------------+------------------------------+
 | 4               |  Ошибка запроса              |
 +-----------------+------------------------------+
 | 99              |  Неизвестно                  |
 +-----------------+------------------------------+
 
